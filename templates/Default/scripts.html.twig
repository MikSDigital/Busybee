<!-- core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
{%  trans_default_domain 'home' %}

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js" integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js" integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30=" crossorigin="anonymous"></script>
<script src="{{ asset('js/holder.min.js') }}"></script>

{% if app.getUser is not empty %}
    {% include '@HillrangeSecurity/security/scripts.html.twig' %}
    <script src={{ asset('js/bootstrap-submenu.min.js') }}></script>
    <script type="text/javascript" charset="utf-8">
        $(document).ready(function () {

            var hide = '{{ hideSection(app.request.get('_route')) }}';
            if (hide) {
                $('.hideSection').fadeOut(5);
            }
        });
        $('[data-submenu]').submenupicker();

        function menuSectionSlide() {
            var scroll_top = $(window).scrollTop();
            if (scroll_top >= 247) { // the detection!
                $('#sectionMenuContainer').addClass('is-sticky');
            } else {
                $('#sectionMenuContainer').removeClass('is-sticky');
            }
        }

        $(window).scroll(menuSectionSlide);

        $(".alert").alert();

        $('.dropdown-menu a.dropdown-toggle').on('click', function(e) {
            if (!$(this).next().hasClass('show')) {
                $(this).parents('.dropdown-menu').first().find('.show').removeClass("show");
            }
            var $subMenu = $(this).next(".dropdown-menu");
            $subMenu.toggleClass('show');


            $(this).parents('li.nav-item.dropdown.show').on('hidden.bs.dropdown', function(e) {
                $('.dropdown-submenu .show').removeClass("show");
            });


            return false;
        });
    </script>
{% endif %}
{% if script is defined %}
    {% for xx in script %}
        {% include xx %}
    {% endfor %}
{% endif %}
<!-- core JavaScript end -->